/*
 * module.h
 *
 *  Created on: 2015年11月1日
 *      Author: Lonny
 */

#ifndef MODULE_H_
#define MODULE_H_
#ifdef __cplusplus
extern "C" {
#endif
typedef struct module_t
{
	void *handle;
}module_s;

typedef enum module_flags_t
{
	MODULE_FLAGS_NONE,
	MODULE_FLAGS_DELAY = 1
}module_flags_e;
/**
 * 以指定模式打开指定的动态链接库文件，并返回一个句柄给dlsym的调用进程
 * */
module_s module_create(const char *file_name, module_flags_e flags);
void* module_sym(module_s *thiz, const char * func_name);
void* module_destroy(module_s *thiz);

#ifdef __cplusplus
}
#endif
#endif /* MODULE_H_ */
